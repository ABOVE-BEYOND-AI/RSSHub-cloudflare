import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import{art as e}from"./render-DE4LRFBD.js";import{ofetch_default as t}from"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import{ViewType as r}from"./types-D9T3SQ-7.js";import i from"node:path";import{load as a}from"cheerio";const o=async r=>{let{category:o=`repositories`}=r.req.param(),s=Number.parseInt(r.req.query(`limit`)??`100`,10),c=`https://gitstar-ranking.com`,l=new URL(o,c).href,u=await t(l),d=a(u),f=d(`html`).attr(`lang`)??`en`,p=d(`a.list-group-item`).slice(0,s).toArray().map(t=>{let r=d(t),a=Number(r.find(`span.stargazers_count`).text()?.trim()),o=r.find(`span.hidden-xs`).text()?.trim(),s=r.find(`img.avatar_image_big`).attr(`src`),l=r.find(`div.repo-language`).text()?.trim(),u=e(i.join(n,`templates/description-2b7ea735.art`),{images:s?[{src:s,alt:o}]:void 0,stargazersCount:a,language:l,description:r.find(`div.repo-description`).text()?.trim()}),f=r.attr(`href`),p=l?[l]:[],m=`gitstar-ranking-${o}-${a}`,h={title:`${o} ‚≠ê${a}`,description:u,link:f?new URL(f,c).href:void 0,category:p,guid:m,id:m,content:{html:u,text:u},image:s,banner:s,language:l};return h}),m=d(`title`).text();return{title:m,description:m.split(/-/)[0],link:l,item:p,allowEmpty:!0,author:m.split(/-/).pop()?.trim(),language:f,id:d(`meta[property="og:url"]`).attr(`content`)}},s={path:`/:category?`,name:`Ranking`,url:`gitstar-ranking.com`,maintainers:[`nczitzk`],handler:o,example:`/gitstar-ranking/repositories`,parameters:{category:{description:`Category, Repositories by default`,options:[{label:`Users`,value:`users`},{label:`Organizations`,value:`organizations`},{label:`Repositories`,value:`repositories`}]}},description:`:::tip
To subscribe to [Repositories](https://gitstar-ranking.com/repositories), where the source URL is \`https://gitstar-ranking.com/repositories\`, extract the certain parts from this URL to be used as parameters, resulting in the route as [\`/gitstar-ranking/repositories\`](https://rsshub.app/gitstar-ranking/repositories).
:::

| Category                                                   | ID                                                                |
| ---------------------------------------------------------- | ----------------------------------------------------------------- |
| [Users](https://gitstar-ranking.com/users)                 | [users](https://rsshub.app/gitstar-ranking/users)                 |
| [Organizations](https://gitstar-ranking.com/organizations) | [organizations](https://rsshub.app/gitstar-ranking/organizations) |
| [Repositories](https://gitstar-ranking.com/repositories)   | [repositories](https://rsshub.app/gitstar-ranking/repositories)   |
`,categories:[`programming`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`gitstar-ranking.com/:category`],target:`/:category`},{title:`Users`,source:[`gitstar-ranking.com/users`],target:`/users`},{title:`Organizations`,source:[`gitstar-ranking.com/organizations`],target:`/organizations`},{title:`Repositories`,source:[`gitstar-ranking.com/repositories`],target:`/repositories`}],view:r.Articles};export{o as handler,s as route};