import{config as e}from"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as t}from"./cache-C3AIQtoX.js";import{art as n}from"./render-DE4LRFBD.js";import{parseDate as r}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as i}from"./esm-shims-BDPl6Msv.js";import{got_default as a}from"./got-BaOFZRd4.js";import{ViewType as o}from"./types-D9T3SQ-7.js";import s from"node:path";import{load as c}from"cheerio";const l={path:`/dailyphoto`,categories:[`picture`],view:o.Pictures,example:`/natgeo/dailyphoto`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`nationalgeographic.com/photo-of-the-day/*`,`nationalgeographic.com/`]}],name:`Daily Photo`,maintainers:[`LogicJake`,`OrangeEd1t`,`TonyRL`,`pseudoyu`],handler:u,url:`nationalgeographic.com/photo-of-the-day/*`};async function u(){let o=`https://www.nationalgeographic.com`,l=`${o}/photo-of-the-day`,u=await t.tryGet(l,async()=>(await a(l)).data,e.cache.contentExpire,!1),d=c(u),f=JSON.parse(d.html().match(/window\['__natgeo__']=(.*);/)[1]),p=f.page.content.mediaspotlight.frms[0].mods[0].edgs[1].media,m=p.map(e=>({title:e.meta.title,description:n(s.join(i,`templates/dailyPhoto-0ed56669.art`),{img:e.img}),link:o+e.locator,pubDate:r(e.caption.preHeading),author:e.img.crdt}));return{title:`Nat Geo Photo of the Day`,link:l,item:m}}export{l as route};