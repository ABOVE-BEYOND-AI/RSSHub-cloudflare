import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import"./ofetch-DRl42yaJ.js";import{__dirname as t}from"./esm-shims-BDPl6Msv.js";import{got_default as n}from"./got-BaOFZRd4.js";import{invalid_parameter_default as r}from"./invalid-parameter-CfUmvEUg.js";import{isValidHost as i}from"./valid-host-JqD2S4D4.js";import a from"node:path";import{load as o}from"cheerio";const s={path:`/:username/:products`,categories:[`shopping`],example:`/gumroad/afkmaster/Eve10`,parameters:{username:`username, can be found in URL`,products:`products name, can be found in URL`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Products`,maintainers:[`Fatpandac`],handler:c,description:"`https://afkmaster.gumroad.com/l/Eve10` -> `/gumroad/afkmaster/Eve10`"};async function c(s){let c=s.req.param(`username`),l=s.req.param(`products`);if(!i(c))throw new r(`Invalid username`);let u=`https://${c}.gumroad.com/l/${l}`,d=await n(u),f=o(d.data),p=f(`section.product-content.product-content__row > header > h1`).text(),m=f(`section.product-content.product-content__row > section.details > a`).text(),h=[{title:p,link:u,description:e(a.join(t,`templates/products-8761a3c9.art`),{img:d.data.match(/data-preview-url="(.*?)"/)[1],productsName:p,price:f(`div.price`).text(),desc:f(`section.product-content.product-content__row > section:nth-child(3) > div`).html(),stack:f(`div.product-info`).find(`ul.stack`).html()})}];return{link:u,title:`Gumroad - ${m}/${p}`,item:h}}export{s as route};