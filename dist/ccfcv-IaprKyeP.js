import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import a from"node:path";import{load as o}from"cheerio";const s=`https://tc.ccf.org.cn`,c={xsdt:{xsqy:`学术前沿`,rdzw:`热点征文`,xshy:`学术会议`}},l={path:`/ccfcv/:channel/:category`,categories:[`study`],example:`/ccf/ccfcv/xsdt/xsqy`,parameters:{channel:"频道，仅支持 `xsdt`",category:`分类，见下表，亦可在网站 url 里找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`计算机视觉专委会 - 学术动态 - 分类`,maintainers:[`elxy`],handler:u,description:`| 学术前沿 | 热点征文 | 学术会议 |
| -------- | -------- | -------- |
| xsqy     | rdzw     | xshy     |`};async function u(l){let u=l.req.param(`channel`),d=l.req.param(`category`),f=`${s}/ccfcv/${u}/${d}/`,p=await i(f),m=o(p.data),h=m(`div.article-item`).toArray().map(e=>(e=m(e),{title:e.find(`h3 a`).text(),link:(d===`xsqy`?s:``)+e.find(`h3 a`).attr(`href`),pubDate:n(e.find(`div p`).text())}));return d===`xsqy`&&(h=await Promise.all(h.map(n=>e.tryGet(n.link,async()=>{let e;try{e=await i(n.link)}catch{n.status=404}if(n.status!==404){let i=o(e.data),s=i(`div.g-box1 p a`).attr(`href`);n.description=t(a.join(r,`templates/description-d4b82bc0.art`),{pdfUrl:s})}return delete n.status,n})))),{title:`计算机视觉专委 - ${c[u][d]}`,link:f,item:h}}export{l as route};