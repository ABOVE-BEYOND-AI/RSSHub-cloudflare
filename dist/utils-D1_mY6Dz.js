import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import a from"node:path";import{load as o}from"cheerio";const s=`http://www.caareviews.org`,c=async e=>{let t=await i(e),n=o(t.data),r=n(`#infinite-content > div`).toArray().map(e=>({title:n(e).find(`div.title`).text().trim(),link:new URL(n(e).find(`div.title > em > a`).attr(`href`),s).href,author:n(e).find(`div.contributors`).text().trim()}));return r},l=(c,l)=>Promise.all(l.map(c=>e.tryGet(c.link,async()=>{let e=await i(c.link),l=o(e.data),u=new URL(l(`div.cover > a`).attr(`href`),s).href,d=l(`div.content.full-review`).html();return c.description=t(a.join(r,`templates/utils-e28a35d0.art`),{coverUrl:u,content:d}),l(`div.review_heading`).remove(),c.pubDate=n(l(`div.header-text > div.clearfix`).text()),c.doi=l(`div.crossref > a`).attr(`href`).replace(`http://dx.doi.org/`,``),c})));export{l as getItems,c as getList,s as rootUrl};