import{art as e}from"./render-DE4LRFBD.js";import{__dirname as t}from"./esm-shims-BDPl6Msv.js";import{got_default as n}from"./got-BaOFZRd4.js";import r from"node:path";const i=`https://meteor.today`,a=e=>e(`meteor:boards`,async()=>{let{data:e}=await n.post(`${i}/board/get_boards`,{json:{isCollege:`false`}});return JSON.parse(decodeURIComponent(e.result)).map(e=>({title:`${e.category?`${e.category} - `:``}${e.name}`,description:e.id,feedDescription:e.description,category:e.articleCategory,link:`${i}/board/${e.alias??e.name}`,alias:e.alias,imgUrl:e.imageUrl,id:e.id}))}),o=n=>{let i=/(?:https?:\/\/)?(?:www\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([\w-]+)&?/g,a=n.match(i),o=n.match(/https:\/\/i.imgur.com\/\w*.(jpg|png|gif|jpeg)/g),s=n.match(/(https:\/\/storage\.meteor\.today\/video\/[\da-f]{24}\.)(mp4|mov|avi|flv|wmv|mpeg|mkv)/gi),c=n.match(/assets\/images\/stickers\/(duck|ep2|ep1)\/\w*.(jpg|png|gif|jpeg)/g),l=n.match(/assets\/images\/emoji\/\w*.(jpg|png|gif|jpeg)/g);if(a&&(n=n.replaceAll(i,e(r.join(t,`templates/desc-eed07add.art`),{youTube:`$1`}))),o)for(let i of o)n=n.replace(i,e(r.join(t,`templates/desc-eed07add.art`),{img:i}));if(s)for(let i of s)n=n.replace(i,e(r.join(t,`templates/desc-eed07add.art`),{video:i}));if(c)for(let i of c)n=n.replace(i,e(r.join(t,`templates/desc-eed07add.art`),{img:i}));if(l)for(let i of l)n=n.replace(i,e(r.join(t,`templates/desc-eed07add.art`),{img:i}));return n.replaceAll(`
`,`<br>`)};export{i as baseUrl,a as getBoards,o as renderDesc};