import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{ofetch_default as n}from"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{timezone as i}from"./timezone-BrxBCotj.js";import a from"node:path";const o=(t,n)=>e(a.join(r,`templates/vod-91994793.art`),{vod:t,link:n}),s={path:`/:domain/:type?/:size?`,categories:[`multimedia`],example:`/maccms/moduzy.net/2`,features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},parameters:{domain:`采集站域名，可选值如下表`,type:`类别ID，不同采集站点有不同的类别规则和ID，默认为 0，代表全部类别`,size:`每次获取的数据条数，上限 100 条，默认 30 条`},name:`最新资源`,maintainers:[`hualiong`],description:`
::: tip
每个采集站提供的影视类别ID是不同的，即参数中的 \`type\` 是不同的。**可以先访问一次站点提供的采集接口，然后从返回结果中的 \`class\` 字段中的 \`type_id\`获取相应的类别ID**
:::

| 站名                | 域名                                             | 站名             | 域名                                               | 站名           | 域名                                            |
| ------------------- | ------------------------------------------------ | ---------------- | -------------------------------------------------- | -------------- | ----------------------------------------------- |
| 魔都资源网          | [moduzy.net](https://moduzy.net)                 | 华为吧影视资源站 | [hw8.live](https://hw8.live)                       | 360 资源站     | [360zy.com](https://360zy.com)                  |
| jkun 爱坤联盟资源网 | [ikunzyapi.com](https://ikunzyapi.com)           | 奥斯卡资源站     | [aosikazy.com](https://aosikazy.com)               | 飞速资源采集网 | [www.feisuzyapi.com](http://www.feisuzyapi.com) |
| 森林资源网          | [slapibf.com](https://slapibf.com)               | 天空资源采集网   | [api.tiankongapi.com](https://api.tiankongapi.com) | 百度云资源     | [api.apibdzy.com](https://api.apibdzy.com)      |
| 红牛资源站          | [www.hongniuzy2.com](https://www.hongniuzy2.com) | 乐视资源网       | [leshiapi.com](https://leshiapi.com)               | 暴风资源       | [bfzyapi.com](https://bfzyapi.com)              |`,handler:async e=>{let{domain:r,type:a=`0`,size:s=`30`}=e.req.param();if(!c.has(r))throw Error(`非法域名！`);let l=await n(`https://${r}/api.php/provide/vod`,{parseResponse:JSON.parse,query:{ac:`detail`,t:a,pagesize:Number.parseInt(s)>100?100:s}}),u=l.list.map(e=>({title:e.vod_name,image:e.vod_pic,link:`https://${r}/vod/${e.vod_id}/`,guid:e.vod_play_url?.match(/https:\/\/.+?\.m3u8/g)?.slice(-1)[0],pubDate:i(t(e.vod_time,`YYYY-MM-DD HH:mm:ss`),8),category:[e.type_name,...e.vod_class.split(`,`)],description:o(e,`https://${r}/vod/${e.vod_id}/`)+e.vod_content}));return{title:`最新${a!==`0`&&u.length?u[0].category[0]:`资源`} - ${r}`,link:`https://${r}`,allowEmpty:!0,item:u}}},c=new Set([`moduzy.net`,`hw8.live`,`360zy.com`,`ikunzyapi.com`,`aosikazy.com`,`www.feisuzyapi.com`,`slapibf.com`,`api.tiankongapi.com`,`api.apibdzy.com`,`www.hongniuzy2.com`,`leshiapi.com`,`bfzyapi.com`]);export{s as route};