import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import{timezone as a}from"./timezone-BrxBCotj.js";import o from"node:path";const s=`https://job.xjtu.edu.cn`,c={zxgg:`中心公告`,xds:`选调生`,zddw:`重点单位`,gjzz:`国际组织`,cxcy:`创新创业`,jysx:`就业实习`},l={path:`/job/:subpath?`,categories:[`university`],example:`/xjtu/job/zxgg`,parameters:{subpath:"栏目类型，默认请求`zxgg`，详见下方表格"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`就业创业中心`,maintainers:[`DylanXie123`],handler:u,description:`栏目类型

| 中心公告 | 选调生 | 重点单位 | 国际组织 | 创新创业 | 就业实习 |
| -------- | ------ | -------- | -------- | -------- | -------- |
| zxgg     | xds    | zddw     | gjzz     | cxcy     | jysx     |`};async function u(l){let u=l.req.param(`subpath`)??`zxgg`,d=await i.post(`${s}/xsfw/sys/jyxtgktapp/modules/jywzManage/getTzgg.do`,{form:{requestParamStr:`{"pageSize":7,"pageNumber":1}`},https:{rejectUnauthorized:!1}}),f=d.data.data.find(e=>e.menutitle===c[u]).menuid,{data:p}=await i.post(`${s}/xsfw/sys/jyxtgktapp/modules/jywzManage/getMhcxWzData.do`,{form:{requestParamStr:`{"pageSize":4,"pageNumber":1,"LMDM":${f}}`},https:{rejectUnauthorized:!1}}),m=p.data.map(e=>({title:e.menutitle,description:e.NR,pubDate:a(n(e.SBSJ),8),guid:e.menuid,link:`${s}/xsfw/sys/emaphome/website/template/detail.html?menuid=${e.menuid}&msg=TZGG&msgChild=NRXQ`})),h=await Promise.all(m.map(n=>e.tryGet(n.link,async()=>{let e=await i.post(`${s}/xsfw/sys/jyxtgktapp/modules/jywzManage/getWzone.do`,{form:{requestParamStr:`{"WID":${n.guid}}`},https:{rejectUnauthorized:!1}}),a=``;if(e.data.data[0].FJ){let n=await i(`${s}/xsfw/sys/emapcomponent/file/getUploadedAttachment.do?fileToken=${e.data.data[0].FJ}`,{https:{rejectUnauthorized:!1}});a=t(o.join(r,`templates/attachments-e22262eb.art`),{items:n.data.items})}return n.author=e.data.data[0].CZZXM,n.description=e.data.data[0].NR+a,n})));return{title:`西安交通大学学生就业创业信息网 - ${c[u]}`,link:s,item:h}}export{l as route};