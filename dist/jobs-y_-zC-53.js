import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import{art as e}from"./render-DE4LRFBD.js";import{ofetch_default as t}from"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import r from"node:path";const i={DEFAULT_PAGE_SIZE:20,MAX_PAGE_SIZE:100},a={BASE_URL:`https://hiring.cafe/api/search-jobs`,HEADERS:{"Content-Type":`application/json`}},o=({keywords:e,page:t=0,size:n=i.DEFAULT_PAGE_SIZE})=>({keywords:e.trim(),page:Math.max(0,Math.floor(Number(t))),size:Math.min(Math.max(1,Math.floor(Number(n))),i.MAX_PAGE_SIZE)}),s=async e=>{let n={size:e.size||20,page:e.page||0,searchState:{searchQuery:e.keywords,sortBy:e.sortBy||`date`}};return await t(a.BASE_URL,{method:`POST`,body:n,headers:a.HEADERS})},c=(t,i)=>e(r.join(n,`templates/jobs-71f48c16.art`),{company_name:i.company_name,location:i.formatted_workplace_location??`Remote/Unspecified`,is_compensation_transparent:!!(i.is_compensation_transparent&&i.yearly_min_compensation&&i.yearly_max_compensation),yearly_min_compensation_formatted:i.yearly_min_compensation?.toLocaleString()??``,yearly_max_compensation_formatted:i.yearly_max_compensation?.toLocaleString()??``,workplace_type:i.workplace_type??`Not specified`,requirements_summary:i.requirements_summary??`No requirements specified`,job_description:t.description??``}),l=e=>{let{job_information:t,v5_processed_job_data:n,apply_url:r,id:i}=e;return{title:`${t.title} - ${n.company_name}`,description:c(t,n),link:r,pubDate:new Date(n.estimated_publish_date_millis).toUTCString(),category:[n.job_category,...n.role_activities,n.workplace_type].filter(e=>!!e),author:n.company_name,guid:i}};async function u(e){let t=o({keywords:e.req.param(`keywords`)}),n=await s(t),r=n.results.map(e=>l(e));return{title:`HiringCafe Jobs: ${t.keywords}`,description:`Job search results for "${t.keywords}" on HiringCafe`,link:`https://hiring.cafe/jobs?q=${encodeURIComponent(t.keywords)}`,item:r,total:n.total}}const d={path:`/jobs/:keywords`,categories:[`other`],example:`/hiring.cafe/jobs/sustainability`,parameters:{keywords:`Keywords to search for`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`hiring.cafe`]}],name:`Jobs`,maintainers:[`mintyfrankie`],handler:u};export{d as route};