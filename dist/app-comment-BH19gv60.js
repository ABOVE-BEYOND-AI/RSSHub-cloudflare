import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import{got_default as r}from"./got-BaOFZRd4.js";import{timezone as i}from"./timezone-BrxBCotj.js";import{appsUrl as a,userUrl as o}from"./utils-B6ORIvNV.js";import s from"node:path";import{load as c}from"cheerio";const l={path:`/user/:lang?/appComment/:uid`,categories:[`anime`],example:`/qoo-app/user/en/appComment/35399143`,parameters:{lang:"Language, see the table above, empty means `中文`",uid:`User ID, can be found in URL`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`User Game Comments`,maintainers:[`TonyRL`],handler:u};async function u(l){let{uid:u,lang:d=``}=l.req.param(),f=`${o}${d?`/${d}`:``}/${u}`,{data:p}=await r(f),{data:m}=await r(`${o}/getUserAppCommentList`,{searchParams:{fid:u}}),h=c(p),g=h(`.person .name`).text(),_=m.list.map(r=>({title:`${g} ▶ ${r.app.name}`,link:`${a}/comment-detail/${r.comment.id}`,description:e(s.join(n,`templates/comment-c10c1815.art`),{rating:r.score,text:r.comment.content}),pubDate:i(t(r.comment.created_at,`YYYY-MM-DD`),8),author:g}));return{title:h(`head title`).text(),link:f,image:decodeURIComponent(h(`.person div.slot`).attr(`data-args`)).replace(`avatar=`,``).split(`?`)[0],language:h(`html`).attr(`lang`),item:_}}export{l as route};