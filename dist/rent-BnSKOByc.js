import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./cache-C3AIQtoX.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{ofetch_default as n}from"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{invalid_parameter_default as i}from"./invalid-parameter-CfUmvEUg.js";import{baseUrl as a,getCitys as o,getDistricts as s}from"./utils-5Z5kkGJB.js";import c from"node:path";const l=t=>e(c.join(r,`templates/house-7bed2997.art`),t),u={path:`/rent/:city/:district?`,example:`/wellcee/rent/北京`,parameters:{city:`城市`,district:`地区`},name:`租房信息`,maintainers:[`TonyRL`],handler:d,url:`www.wellcee.com`,description:`支持的城市可以通过 [/wellcee/support-city](https://rsshub.app/wellcee/support-city) 获取`};async function d(e){let{city:r,district:c=``}=e.req.param(),u=await o(),d=u.find(e=>e.chCityName===r);if(!d)throw new i(`Invalid city`);let f;if(c){let e=await s(d.id),t=e.find(e=>e.name===c);if(!t)throw new i(`Invalid district`);f=t}let p=await n(`${a}/api/house/filter`,{method:`POST`,body:{districtIds:f?.id?[f.id]:[],subways:[],rentTypeIds:[],timeTypeIds:[],price:[],tagTypeIds:[],cityId:d.id,lang:1,pn:1}}),m=p.data.list.map(e=>({title:e.address,link:`${a}/rent-apartment/${e.id}`,description:l({item:e}),pubDate:t(e.loginTime,`X`),author:e.userInfo.name,category:[...e.tags,...e.typeTags]}));return{title:`${r}${f?.name??``}租房信息 - Wellcee`,description:`${d.statics.online_text} ${d.statics.total_text}`,image:d.icon,icon:d.icon,logo:d.icon,link:`${a}/rent-apartment/${d.cityName}/list?cityId=${d.id}&lang=zh${c?`#districtIds=${f?.id}`:``}`,item:m}}export{u as route};