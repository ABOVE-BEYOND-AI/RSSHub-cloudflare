import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import{timezone as a}from"./timezone-BrxBCotj.js";import o from"node:path";function s(n){let a=`https://www.iresearch.com.cn/api/Detail/reportM?id=${n.NewsId}&isfree=0`,s=e.tryGet(a,async()=>{let e=await i({method:`get`,url:a,headers:{Referer:`https://www.iresearch.com.cn/m/report.shtml`,"Content-Type":`application/json`}}),n=e.data.List[0];return t(o.join(r,`templates/report-772418a4.art`),{data:n})});return s}const c={path:`/report`,categories:[`other`],example:`/iresearch/report`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.iresearch.com.cn/report.shtml`]}],name:`产业研究报告`,maintainers:[`brilon`,`Fatpandac`],handler:l,url:`www.iresearch.com.cn/report.shtml`};async function l(e){let t=Number.isNaN(Number.parseInt(e.req.query(`limit`)))?20:Number.parseInt(e.req.query(`limit`)),r=`https://www.iresearch.com.cn/api/products/GetReportList?fee=0&date=&lastId=&pageSize=${t}`,o=`https://www.iresearch.com.cn/m/report.shtml`,c=await i({method:`get`,url:r,headers:{Referer:o,"Content-Type":`application/json`}}),l=c.data.List,u=await Promise.all(l.map(async e=>({title:e.Title,description:await s(e),pubDate:a(n(e.Uptime),8),link:e.VisitUrl})));return{title:`艾瑞产业研究报告`,link:o,description:`艾瑞产业研究报告`,item:u}}export{c as route};