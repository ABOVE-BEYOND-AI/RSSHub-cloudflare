import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import{art as e}from"./render-DE4LRFBD.js";import{ofetch_default as t}from"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import r from"node:path";import{load as i}from"cheerio";const a=`https://www.openrice.com`,o={path:`/:lang/hongkong/promos`,maintainers:[`after9`],handler:s,categories:[`shopping`],example:`/openrice/zh/hongkong/promos`,parameters:{lang:`语言，缺省为 zh`},name:`香港餐厅滋讯`,description:`
| 简体 | 繁體 | EN |
| ----- | ------ | ----- |
| zh-cn | zh | en |
  `};async function s(o){let s=o.req.param(`lang`)??`zh`,c;switch(s){case`zh-cn`:c=`/zh-cn/hongkong/promos`;break;case`en`:c=`/en/hongkong/promos`;break;case`zh`:default:c=`/zh/hongkong/promos`;break}let l=await t(a+c,{}),u=i(l),d=u(`title`).text()??`Openrice - What's Hot`,f=u(`meta[name="description"]`).attr(`content`)??`What's Hot from Openrice`,p=u(`.article-listing-content-cell-wrapper`),m=p.toArray().map(t=>{let i=u(t),a=i.find(`.title-name`).text()??``,o=i.find(`a.sr1-listing-content-cell`).attr(`href`)??``,s=i.find(`.cover-photo`).attr(`style`)?.match(/url\(['"]?(.*?)['"]?\)/)?.[1]??null,c=e(r.join(n,`templates/description-89cc7c28.art`),{description:i.find(`.article-details .desc`).text()??``,image:s});return{title:a,description:c,link:o}});return{title:d,link:a+c,description:f,item:m}}export{o as route};