import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import{got_default as r}from"./got-BaOFZRd4.js";import i from"node:path";const a={global:`要闻`,"a-stock":`A股`,"us-stock":`美股`,"hk-stock":`港股`,forex:`外汇`,commodity:`商品`,financing:`理财`},o={path:`/live/:category?/:score?`,categories:[`finance`],example:`/wallstreetcn/live`,parameters:{category:"快讯分类，默认`global`，见下表",score:"快讯重要度，默认`1`全部快讯，可设置为`2`只看重要的"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`wallstreetcn.com/live/:category`,`wallstreetcn.com/`],target:`/live/:category?`}],name:`实时快讯`,maintainers:[`nczitzk`],handler:s,description:`| 要闻   | A 股    | 美股     | 港股     | 外汇  | 商品      | 理财      |
| ------ | ------- | -------- | -------- | ----- | --------- | --------- |
| global | a-stock | us-stock | hk-stock | forex | commodity | financing |`};async function s(o){let s=o.req.param(`category`)??`global`,c=o.req.param(`score`)??1,l=`https://wallstreetcn.com/live/${s}`,u=`https://api-one.wallstcn.com/apiv1/content/lives?channel=${s}-channel&limit=${o.req.query(`limit`)??100}`,d=await r({method:`get`,url:u}),f=d.data.data.items.filter(e=>e.score>=c).map(r=>({link:r.uri,title:r.title||r.content_text,pubDate:t(r.display_time*1e3),author:r.author?.display_name??``,description:e(i.join(n,`templates/description-e596fdfe.art`),{description:r.content,more:r.content_more,images:r.images})}));return{title:`华尔街见闻 - 实时快讯 - ${a[s]}`,link:l,item:f}}export{o as route};