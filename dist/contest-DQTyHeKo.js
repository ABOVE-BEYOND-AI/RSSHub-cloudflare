import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import"./ofetch-DRl42yaJ.js";import{__dirname as t}from"./esm-shims-BDPl6Msv.js";import{got_default as n}from"./got-BaOFZRd4.js";import r from"node:path";import{load as i}from"cheerio";const a={path:`/acm/contest/:category?`,categories:[`university`],example:`/ecnu/acm/contest/public`,parameters:{category:"category is optional, default is all, use `public` for public only contests"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`acm.ecnu.edu.cn/contest/`,`acm.ecnu.edu.cn/`],target:`/acm/contest/`}],name:`ACM Online-Judge contests list`,maintainers:[`a180285`],handler:o,url:`acm.ecnu.edu.cn/contest/`};async function o(a){let o=a.req.param(`category`)??``,s=o===`public`,c=`https://acm.ecnu.edu.cn`,l=`${c}/contest/`,u=await n(l),d=i(u.data),f=d(`div > div > table > tbody > tr`),p=f.filter((e,t)=>!s||d(t).find(`i`).attr(`class`).includes(`green`)).toArray().map(n=>{let i=d(n).find(`td`),a=i.eq(0).text(),o=i.eq(1).text(),s=i.eq(2).text(),l=c+i.find(`a`).eq(0).attr(`href`);return{title:a,description:e(r.join(t,`templates/description-067c2866.art`),{title:a,startTime:o,duration:s}),link:l}});return{title:`ECNU ACM ${s?`公开`:``}比赛`,link:l,item:p}}export{a as route};