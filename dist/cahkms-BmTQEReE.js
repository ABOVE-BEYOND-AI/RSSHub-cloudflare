import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import{timezone as a}from"./timezone-BrxBCotj.js";import o from"node:path";const s={"01":`关于我们`,"02":`港澳新闻`,"03":`重要新闻`,"04":`顾问点评、会员观点`,"05":`专题汇总`,"06":`港澳时评`,"07":`图片新闻`,"08":`视频中心`,"09":`港澳研究`,10:`最新书讯`,11:`研究资讯`},c={path:`/:category?`,categories:[`new-media`],example:`/cahkms`,parameters:{category:`分类，见下表，默认为重要新闻`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`cahkms.org/`]}],name:`分类`,maintainers:[`nczitzk`],handler:l,url:`cahkms.org/`,description:`| 关于我们 | 港澳新闻 | 重要新闻 | 顾问点评、会员观点 | 专题汇总 |
| -------- | -------- | -------- | ------------------ | -------- |
| 01       | 02       | 03       | 04                 | 05       |

| 港澳时评 | 图片新闻 | 视频中心 | 港澳研究 | 最新书讯 | 研究资讯 |
| -------- | -------- | -------- | -------- | -------- | -------- |
| 06       | 07       | 08       | 09       | 10       | 11       |`};async function l(c){let l=c.req.param(`category`)??`03`,u=`http://www.cahkms.org`,d=`${u}/HKMAC/indexMac/getRightList?dm=${l}&page=1&countPage=${c.req.query(`limit`)??10}`,f=await i({method:`get`,url:d}),p=f.data.filter(e=>e.ID).map(e=>({title:e.TITLE,description:`<p>${e.GJZ}</p>`,pubDate:a(n(e.JDRQ),8),link:`${u}/HKMAC/indexMac/getWzxx?id=${e.ID}`}));return p=await Promise.all(p.map(n=>e.tryGet(n.link,async()=>{let e=await i({method:`get`,url:n.link});return n.author=e.data.WZLY,n.description=t(o.join(r,`templates/description-bfc99d2e.art`),{rootUrl:u,content:e.data.CONTENT,image:e.data.URL,files:e.data.fjlist,video:e.data.VIDEO.indexOf(`.mp4`)>0?e.data.VIDEO:null}),n.link=`${u}/HKMAC/webView/mc/AboutUs_1.html?${l}&${s[l]}`,n}))),{title:`${s[l]} - 全国港澳研究会`,link:d,item:p}}export{c as route};