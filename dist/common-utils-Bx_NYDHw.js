import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import r from"node:path";const i=i=>i.map(i=>{let a=i.product_type,o=i.caption?.text??``,s=``;switch(a){case`carousel_container`:{let t=i.carousel_media.map(e=>({...e.image_versions2.candidates.sort((e,t)=>t.width-e.width)[0],alt:i.accessibility_caption}));s=e(r.join(n,`templates/images-105c7ff0.art`),{summary:o,images:t});break}case`clips`:case`igtv`:s=e(r.join(n,`templates/video-fb8df18d.art`),{summary:o,image:i.image_versions2.candidates.sort((e,t)=>t.width-e.width)[0],video:i.video_versions[0]});break;case`feed`:{let t=[{...i.image_versions2.candidates.sort((e,t)=>t.width-e.width)[0],alt:i.accessibility_caption}];s=e(r.join(n,`templates/images-105c7ff0.art`),{summary:o,images:t});break}default:throw Error(`Instagram: Unhandled feed type: ${a}`)}let c=`https://www.instagram.com/p/${i.code}/`,l=t(i.caption?.created_at_utc||i.taken_at,`X`),u=o.split(`
`)[0];return{title:u,id:i.pk,pubDate:l,author:i.user.username,link:c,summary:o,description:s}});export{i as renderItems};