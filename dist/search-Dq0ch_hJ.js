import{config as e}from"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as t}from"./cache-C3AIQtoX.js";import{art as n}from"./render-DE4LRFBD.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import{ViewType as a}from"./types-D9T3SQ-7.js";import o from"node:path";const s={path:`/search/:q/:order?`,categories:[`picture`],view:a.Pictures,example:`/pixabay/search/cat`,parameters:{q:`Search term`,order:{description:`Order`,options:[{value:`popular`,label:`popular`},{value:`latest`,label:`latest`}],default:`latest`}},features:{requireConfig:[{name:`PIXABAY_KEY`,optional:!0,description:``}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`pixabay.com/:searchType/search/:q`],target:`/search/:q`}],name:`Search`,maintainers:[`TonyRL`],handler:c};async function c(a){let{q:s,order:c=`latest`}=a.req.param(),l=e.pixabay?.key??`7329690-bbadad6d872ba577d5a358679`,u=`https://pixabay.com`,d=await t.tryGet(`pixabay:search:${s}:${c}`,async()=>{let{data:e}=await i(`${u}/api/`,{searchParams:{key:l,q:s,order:c,per_page:a.req.query(`limit`)??200}});return e},Math.max(e.cache.contentExpire,1440*60),!1),f=d.hits.map(e=>{let{pageURL:t,tags:i,user:a}=e;return{title:t.substring(t.lastIndexOf(`/`,t.lastIndexOf(`/`)-1)+1,t.lastIndexOf(`/`)).replace(/(-\d+)$/,``).replaceAll(`-`,` `),description:n(o.join(r,`templates/img-f35220fe.art`),{item:e}),link:t,category:i.split(`, `),author:a}});return{title:`Search ${s} - Pixabay`,description:`Download & use free nature stock photos in high resolution ✓ New free images everyday ✓ HD to 4K ✓ Best nature pictures for all devices on Pixabay`,link:`${u}/images/search/${s}/${c===`latest`?`?order=latest`:``}`,image:`https://pixabay.com/apple-touch-icon.png`,language:`en`,item:f}}export{s as route};