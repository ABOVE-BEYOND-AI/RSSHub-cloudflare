import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import{got_default as r}from"./got-BaOFZRd4.js";import i from"node:path";const a={path:`/:category?/:id?`,name:`Unknown`,maintainers:[],handler:o};async function o(a){let o=a.req.param(`category`)??`latest`,s=a.req.param(`id`)??14,c={14:`热点 - 最新`,5:`热点 - 科技`,9:`热点 - 消费`,7:`热点 - 出行`,13:`热点 - 文娱`,10:`热点 - 教育`,25:`热点 - 地产`,11:`热点 - 更多`,28:`深度 - 出行`,29:`深度 - 科技`,31:`深度 - 消费`,33:`深度 - 教育`,34:`深度 - 更多`,8:`深度 - 地产`,6:`深度 - 文娱`},l={latest:{url:``,title:`最新文章`},recommend:{url:`&isRecommend=true`,title:`推荐资讯`},cover:{url:`&position=1`,title:`封面文章`},information:{url:`&categoryId=${s}`,title:c[s]}},u=`https://www.aicaijing.com.cn`,d=`https://api.aicaijing.com.cn/article/detail/list?size=${a.req.query(`limit`)??50}&page=1${l[o].url}`,f=await r({method:`get`,url:d}),p=f.data.data.items.map(r=>({title:r.title,link:`${u}/article/${r.articleId}`,author:r.userInfo.nickname,pubDate:t(r.createTime),category:[r.category.name,...r.tags.map(e=>e.name)],description:e(i.join(n,`templates/description-3a20c230.art`),{image:r.cover,description:r.content})}));return{title:`AI 财经社 - ${l[o].title}`,link:u,item:p}}export{a as route};