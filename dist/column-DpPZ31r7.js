import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import{got_default as r}from"./got-BaOFZRd4.js";import{timezone as i}from"./timezone-BrxBCotj.js";import a from"node:path";const o={path:`/column/:id?`,categories:[`traditional-media`],example:`/nmtv/column/877`,parameters:{id:`栏目 id，可在对应栏目 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`点播`,maintainers:[`nczitzk`],handler:s,description:"::: tip\n  如 [蒙古语卫视新闻联播](http://www.nmtv.cn/folder292/folder663/folder301/folder830/folder877) 的 URL 为 `http://www.nmtv.cn/folder292/folder663/folder301/folder830/folder877`，其栏目 id 为末尾数字编号，即 `877`。可以得到其对应路由为 [`/nmtv/column/877`](https://rsshub.app/nmtv/column/877)\n:::"};async function s(o){let s=o.req.param(`id`)??`877`,c=o.req.query(`limit`)?Number.parseInt(o.req.query(`limit`)):100,l=`https://mapi.m2oplus.nmtv.cn/api/v1/contents.php?offset=0&count=${c}&column_id=${s}`,u=await r({method:`get`,url:l}),d=u.data,f=d.map(r=>{let o=`https://vod.m2oplus.nmtv.cn/${r.target_path}${r.target_filename}`,s=`${r.type}/${o.match(/\.(\w+)$/)[1]}`;return{title:r.title,link:r.content_url,author:r.column_name,pubDate:i(t(r.publish_time),8),description:e(a.join(n,`templates/description-ffc4bfcb.art`),{type:r.type,image:r.index_pic,file:o}),enclosure_url:o,enclosure_type:s,itunes_duration:r.video.duration,itunes_item_image:r.index_pic}}),p=d[0].column_name,m=d[0].column_info.indexpic;return{title:`内蒙古广播电视台 - ${p}`,link:f[0].link.split(/\/\d{4}-\d{2}-\d{2}\//)[0],item:f,image:`${m.host}${m.filepath}${m.filename}`,itunes_author:p}}export{o as route};