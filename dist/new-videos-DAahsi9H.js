import{config as e}from"./config-HRWLmo66.js";import{logger_default as t}from"./logger-DHpG8Bim.js";import"./proxy-BQXcrhTu.js";import{cache_default as n}from"./cache-C3AIQtoX.js";import{art as r}from"./render-DE4LRFBD.js";import{__dirname as i}from"./esm-shims-BDPl6Msv.js";import{puppeteer_default as a}from"./puppeteer-BAoY_Fpy.js";import o from"node:path";import*as s from"cheerio";const c=e=>r(o.join(i,`templates/video-18aee809.art`),e),l=async()=>{let r=`https://spankbang.com`,i=`${r}/new_videos/`,o=await a(),l=await n.tryGet(i,async()=>{let e=await o.newPage();await e.setRequestInterception(!0),e.on(`request`,e=>{e.resourceType()===`document`?e.continue():e.abort()}),t.http(`Requesting ${i}`),await e.goto(i,{waitUntil:`domcontentloaded`});let n=await e.content(),a=s.load(n),l=a(`.video-item`).toArray().map(e=>{let t=a(e),n=t.find(`.thumb`),i=t.find(`img.cover`);return{title:n.attr(`title`),link:new URL(n.attr(`href`),r).href,description:c({cover:i.data(`src`),preview:i.data(`preview`)})}});return{title:a(`head title`).text(),description:a(`head meta[name="description"]`).attr(`content`),item:l}},e.cache.routeExpire,!1);return await o.close(),{title:l.title,description:l.description,link:i,item:l.item}},u={path:`/new_videos`,categories:[`multimedia`],example:`/spankbang/new_videos`,name:`New Porn Videos`,maintainers:[`TonyRL`],features:{antiCrawler:!0,requirePuppeteer:!0,nsfw:!0},radar:[{source:[`spankbang.com/new_videos/`,`spankbang.com/`]}],handler:l};export{u as route};