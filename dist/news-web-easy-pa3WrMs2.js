import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{ofetch_default as r}from"./ofetch-DRl42yaJ.js";import{__dirname as i}from"./esm-shims-BDPl6Msv.js";import{timezone as a}from"./timezone-BrxBCotj.js";import o from"node:path";import{load as s}from"cheerio";const c={path:`/news_web_easy`,categories:[`traditional-media`],example:`/nhk/news_web_easy`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www3.nhk.or.jp/news/easy/`,`www3.nhk.or.jp/`]}],name:`News Web Easy`,maintainers:[`Andiedie`],handler:l,url:`www3.nhk.or.jp/news/easy/`};async function l(c){let l=await r(`https://www3.nhk.or.jp/news/easy/news-list.json`),u=l[0],d=Object.values(u).flatMap(e=>e.map(e=>({title:e.title,description:t(o.join(i,`templates/news_web_easy-ee3cb891.art`),{title:e.title_with_ruby,image:e.news_web_image_uri}),guid:e.news_id,pubDate:a(n(e.news_prearranged_time),9),link:`https://www3.nhk.or.jp/news/easy/${e.news_id}/${e.news_id}.html`})));return d=d.sort((e,t)=>t.pubDate-e.pubDate).slice(0,c.req.query(`limit`)?Number(c.req.query(`limit`)):30),d=await Promise.all(d.map(t=>e.tryGet(t.link,async()=>{let e=await r(t.link),n=s(e);return t.description+=n(`.article-body`).html(),t}))),{title:`NEWS WEB EASY`,link:`https://www3.nhk.or.jp/news/easy/`,description:`NEWS WEB EASYは、小学生・中学生の皆さんや、日本に住んでいる外国人のみなさんに、わかりやすいことば　でニュースを伝えるウェブサイトです。`,item:d}}export{c as route};