import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import{timezone as a}from"./timezone-BrxBCotj.js";import o from"node:path";import{load as s}from"cheerio";const c=async c=>{let{category:l=``}=c.req.param(),u=c.req.query(`limit`)?Number.parseInt(c.req.query(`limit`),10):20,d=`https://chinese.joins.com`,f=new URL(`news/articleList.html?view_type=s${l?`&sc_section_code=${l}`:``}`,d).href,{data:p}=await i(f),m=s(p),h=m(`html`).prop(`lang`),g=m(`section.article-list-content div.table-row`).slice(0,u).toArray().map(e=>(e=m(e),{title:e.find(`strong`).text(),pubDate:a(n(e.find(`div.list-dated`).text().split(/\|/).pop()),8),link:new URL(e.find(`a.links`).prop(`href`),d).href,author:e.find(`div.list-dated`).text().split(/\|/)[0],language:h}));g=await Promise.all(g.map(a=>e.tryGet(a.link,async()=>{let{data:e}=await i(a.link),c=s(e);c(`a.articles`).remove(),c(`div.view-copyright, div.ad-template, div.view-editors, div.tag-group`).remove();let l=c(`div.article-head-title, div.viewer-titles`).text(),u=t(o.join(r,`templates/description-5ca30176.art`),{images:c(`div.photo-box`).length===0?void 0:c(`div.photo-box`).toArray().map(e=>{let t=c(e).find(`img`);return t.prop(`src`)?{src:t.prop(`src`)}:void 0}),description:c(`div#article-view-content-div`).html()}),d=c(`meta[property="og:image"]`).prop(`content`);return a.title=l,a.description=u,a.pubDate=n(c(`meta[property="article:published_time"]`).prop(`content`)),a.category=c(`meta[name="keywords"]`).prop(`content`)?.split(/,/)??c(`meta[name="news_keywords"]`).prop(`content`)?.split(/,/)??[],a.author=c(`meta[property="og:article:author"]`).prop(`content`),a.content={html:u,text:c(`div#article-view-content-div`).text()},a.image=d,a.banner=d,a.language=h,a})));let _=new URL(m(`div.user-logo img`).prop(`src`),d).href;return{title:`${m(`a[data-code="${l}"]`)?.text()||m(`ul#user-menu a`).first().text()} - ${m(`title`).text()}`,description:m(`meta[property="og:description"]`).prop(`content`),link:f,item:g,allowEmpty:!0,image:_,author:m(`meta[property="og:site_name"]`).prop(`content`),language:h}},l={path:`/chinese/:category?`,name:`中央日报中文版`,url:`chinese.joins.com`,maintainers:[`nczitzk`],handler:c,example:`/chinese`,parameters:{category:"分类，默认为空，可在对应分类页 URL 中找到 `sc_section_code`"},description:`::: tip
  若订阅 [财经](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N1)，网址为 \`https://chinese.joins.com/news/articleList.html?sc_section_code=S1N1\`。截取 \`sc_section_code\` 的值作为参数填入，此时路由为 [\`/joins/chinese/S1N1\`](https://rsshub.app/joins/chinese/S1N1)。
:::

| 分类                                                                                       | \`sc_section_code\`                             |
| ------------------------------------------------------------------------------------------ | ----------------------------------------------- |
| [财经](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N1)               | [S1N1](https://rsshub.app/joins/chinese/S1N1)   |
| [国际](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N2)               | [S1N2](https://rsshub.app/joins/chinese/S1N2)   |
| [北韩](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N3)               | [S1N3](https://rsshub.app/joins/chinese/S1N3)   |
| [政治·社会](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N4)          | [S1N4](https://rsshub.app/joins/chinese/S1N4)   |
| [中国观察](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N5)           | [S1N5](https://rsshub.app/joins/chinese/S1N5)   |
| [社论](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N26)              | [S1N26](https://rsshub.app/joins/chinese/S1N26) |
| [专栏·观点](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N11)         | [S1N11](https://rsshub.app/joins/chinese/S1N11) |
| [军事·科技](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N6)          | [S1N6](https://rsshub.app/joins/chinese/S1N6)   |
| [娱乐体育](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N7)           | [S1N7](https://rsshub.app/joins/chinese/S1N7)   |
| [教育](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N8)               | [S1N8](https://rsshub.app/joins/chinese/S1N8)   |
| [旅游美食](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N9)           | [S1N9](https://rsshub.app/joins/chinese/S1N9)   |
| [时尚](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N10)              | [S1N10](https://rsshub.app/joins/chinese/S1N10) |
| [图集](https://chinese.joins.com/news/articleList.html?sc_section_code=S1N12&view_type=tm) | [S1N12](https://rsshub.app/joins/chinese/S1N12) |

  `,categories:[`traditional-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`chinese.joins.com/news/articleList.html`],target:e=>{let t=e.searchParams.get(`sc_section_code`);return`/joins/chinese${t?`/${t}`:``}`}},{title:`财经`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N1`},{title:`国际`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N2`},{title:`北韩`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N3`},{title:`政治·社会`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N4`},{title:`中国观察`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N5`},{title:`社论`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N26`},{title:`专栏·观点`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N11`},{title:`军事·科技`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N6`},{title:`娱乐体育`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N7`},{title:`教育`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N8`},{title:`旅游美食`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N9`},{title:`时尚`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N10`},{title:`图集`,source:[`chinese.joins.com/news/articleList.html`],target:`/chinese/S1N12`}]};export{c as handler,l as route};