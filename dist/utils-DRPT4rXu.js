import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{ofetch_default as r}from"./ofetch-DRl42yaJ.js";import{__dirname as i}from"./esm-shims-BDPl6Msv.js";import a from"node:path";import{load as o}from"cheerio";const s=`https://visionias.in`;async function c(s,c){return s.link===``?s:await e.tryGet(s.link,async()=>{let e=await r(s.link||``),u=o(e),d=String(u(`meta[property="article:published_time"]`).attr(`content`)),f=String(u(`meta[property="article:modified_time"]`).attr(`content`)),p=u(`meta[property="article:tag"]`).toArray().map(e=>u(e).attr(`content`)),m=u(c),h=m.find(`div.space-y-4 > h1`).text(),g=m.find(`div.flex > div.w-full`),_=g.find(`[x-data^="{isShortArticleOpen"]`),v=g.find(`[x-data^="{isSectionOpen"]`);if(_.length!==0){let e=_.toArray().map(e=>{let r=u(e),o=r.find(`a > div > h2`).text().trim(),c=r.find(`a`).attr(`href`),f=l(r.html()),p=r.find(`ul > li:contains("Tags :")`)?.nextAll(`li`).toArray().map(e=>u(e).text()),m=t(a.join(i,`templates/description-962ff3f8.art`),{heading:o,articleContent:f});return{title:`${o} | ${h}`,pubDate:n(d),category:p,description:m,link:`${s.link}${c}`,author:`Vision IAS`}});return e}else if(v.length===0){let e=l(g.html()),r=t(a.join(i,`templates/description-962ff3f8.art`),{heading:h,articleContent:e});return{title:s.title,pubDate:n(d),category:p,description:r,link:s.link,updated:f?n(f):null,author:`Vision IAS`}}else{let e=v.toArray().map(e=>{let n=u(e),r=n.find(`a > div > h2`).text().trim(),o=l(n.html(),`div.ck-content`),s=t(a.join(i,`templates/description-sub-290c84a9.art`),{heading:r,articleContent:o});return{description:s}}),r=t(a.join(i,`templates/description-962ff3f8.art`),{heading:h,subItems:e});return{title:h,pubDate:n(d),category:p,description:r,link:s.link,updated:f?n(f):null,author:`Vision IAS`}}})}function l(e,t=`div.ck-content`){let n=o(e,null,!1),r=n(e),i=r.find(String(t));i.find(`figure`).each((e,t)=>{n(t).css(`width`,``)});let a=i.html();return a}export{s as baseUrl,c as extractNews};