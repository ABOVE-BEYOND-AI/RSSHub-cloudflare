import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import{invalid_parameter_default as a}from"./invalid-parameter-CfUmvEUg.js";import o from"node:path";import{load as s}from"cheerio";const c={path:`/:name`,categories:[`anime`],example:`/comicskingdom/pardon-my-planet`,parameters:{name:`URL path of the strip on comicskingdom.com`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`comicskingdom.com/:name/*`,`comicskingdom.com/:name`]}],name:`Archive`,maintainers:[`stjohnjohnson`],handler:l};async function l(c){let l=c.req.param(`name`),u=`https://comicskingdom.com/${l}/archive`,{data:d}=await i(u),f=s(d),p=f(`title`).text().replace(`Comics Kingdom - `,``).trim(),m=f(`.feature-title h2`).text(),h=f(`div.tile`).toArray().map(e=>f(e).find(`a`).first().attr(`href`));if(h.length===0)throw new a(`Comic Not Found - ${l}`);let g=await Promise.all(h.map(a=>e.tryGet(a,async()=>{let e=await i(a),c=s(e.data),l=c(`meta[property="og:description"]`).attr(`content`),u=c(`meta[property="og:image"]`).attr(`content`),d=t(o.join(r,`templates/desc-158d364d.art`),{image:u}),f=n(a.slice(a.lastIndexOf(`/`)+1),`YYYY-MM-DD`);return{title:l,author:m,category:`comic`,description:d,pubDate:f,link:a}})));return{title:p,link:u,image:f(`.feature-logo`).attr(`src`),item:g,language:`en-US`}}export{c as route};