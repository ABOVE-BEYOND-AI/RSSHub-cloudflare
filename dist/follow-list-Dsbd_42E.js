import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import"./cache-C3AIQtoX.js";import{art as e}from"./render-DE4LRFBD.js";import"./ofetch-DRl42yaJ.js";import{__dirname as t}from"./esm-shims-BDPl6Msv.js";import{got_default as n}from"./got-BaOFZRd4.js";import"./config-not-found-B7nOMdXp.js";import{cache_default as r}from"./cache-4UHHiVRH.js";import i from"node:path";const a=(n,r)=>e(i.join(t,`templates/description-d08e0099.art`),{description:n,images:r}),o={path:`/bbs/follow-list/:uid`,categories:[`game`],example:`/mihoyo/bbs/follow-list/77005350`,parameters:{uid:`用户uid`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`米游社 - 用户关注`,maintainers:[`CaoMeiYouRen`],handler:s};async function s(e){let t=e.req.param(`uid`),i=e.req.query(`limit`)||`20`,o={gids:2,uid:t,page_size:i},s=`https://www.miyoushe.com/ys/accountCenter/followList?id=${t}`,c=await n({method:`get`,url:`https://bbs-api.miyoushe.com/user/wapi/following`,searchParams:o,headers:{Origin:`https://www.miyoushe.com`,Referer:s}}),l=c?.data?.data?.result;if(!l)throw Error(`未获取到数据！`);let{nickname:u}=await r.getUserFullInfo(e,t),d=`米游社 - ${u} 的关注`,f=l.map(e=>{let t=e.user.nickname,n=`https://www.miyoushe.com/ys/accountCenter/postList?id=${e.user.uid}`,r=a(`${e.user.certification.label||``}\n${e.user.introduce||``}`.trim(),[e.user.avatar_url]);return{title:t,link:n,description:r}}),p={title:d,link:s,item:f};return p}export{o as route};