import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{ofetch_default as r}from"./ofetch-DRl42yaJ.js";import{__dirname as i}from"./esm-shims-BDPl6Msv.js";import{timezone as a}from"./timezone-BrxBCotj.js";import o from"node:path";import s from"markdown-it";const c=s({html:!0}),l=`https://utgd.net`,u=`https://api.utgd.net`,d=(e,t)=>e.slice(0,t).map(e=>({id:e.id,title:e.title,link:`${l}/article/${e.id}`,author:e.article_author_displayname,pubDate:a(n(e.article_published_time),8),category:e.article_category.map(e=>e.category_name)})),f=n=>e.tryGet(`untag-${n.id}`,async()=>{let e=await r(`${u}/api/v2/article/${n.id}/`);return n.description=t(o.join(i,`templates/description-03cfe5f7.art`),{membership:e.article_for_membership,image:e.article_image,description:c.render(e.article_content)}),n.category=[...e.article_category.map(e=>e.category_name),...e.article_tag.map(e=>e.tag_name)],n});export{u as apiRootUrl,f as parseArticle,d as parseResult,l as rootUrl};