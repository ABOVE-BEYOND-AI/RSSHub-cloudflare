import{art as e}from"./render-DE4LRFBD.js";import{__dirname as t}from"./esm-shims-BDPl6Msv.js";import{got_default as n}from"./got-BaOFZRd4.js";import r from"node:path";import{load as i}from"cheerio";const a=`https://furstar.jp`,o=e=>e?`${a}/${e}`:a,s=n=>e(r.join(t,`templates/author-fedbb8f1.art`),n),c=(n,i,a)=>e(r.join(t,`templates/description-ed3670e4.art`),{desc:n,pics:i,author:s(a)}),l=e=>{let t=i(e),n=t(`a`),r={name:null,avatar:null,link:null};if(n.length>0){let e=t(`a img`);r.name=e.attr(`alt`),r.avatar=e.attr(`src`),r.link=n.attr(`href`)}else{let e=t(`img`);r.name=e.attr(`alt`),r.avatar=e.attr(`src`)}return r},u=(e,t)=>t.tryGet(e,async()=>{let t=await n(e,{https:{rejectUnauthorized:!1}}),r=i(t.data),o=r(`.row .panel-heading h2`).text().trim(),s=r(`.character-description p`).text().trim(),c=r(`.img-gallery .prettyPhoto`).toArray().map(e=>{let t=i(e),n=t(`a`).attr(`href`).trim();return`${a}/${n.slice(2)}`});return{title:o,pics:c,desc:s,author:l(r(`.character-description`).html())}}),d=(e,t)=>{let n=i(e),r=n(`.character-article`),a=r.toArray().map(e=>{let n=i(e),r={title:n(`.character-headline`).text().trim(),headImage:n(`.character-images img`).attr(`src`).trim(),detailPage:`${t}/${n(`.character-images a`).attr(`href`).trim()}`,author:l(n(`.character-description`).html())};return r});return a};var f={BASE:a,langBase:o,fetchAllCharacters:d,detailPage:u,authorDetail:l,renderDesc:c,renderAuthor:s};export{f as utils_default};