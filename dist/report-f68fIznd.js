import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import{got_default as r}from"./got-BaOFZRd4.js";import i from"node:path";const a={tiobe:`编程语言`,netcraft:`服务器`,"db-engines":`数据库`},o={path:`/ranking/:type?`,example:`/hellogithub/ranking`,name:`榜单报告`,maintainers:[`moke8`,`nczitzk`],handler:s,description:`| 编程语言 | 服务器   | 数据库     |
| -------- | -------- | ---------- |
| tiobe    | netcraft | db-engines |`};async function s(o){let s=o.req.param(`type`)??`tiobe`;s=s===`webserver`?`netcraft`:s===`db`?`db-engines`:s;let c=`https://hellogithub.com`,l=`${c}/report/${s}`,u=await r({method:`get`,url:c}),d=u.data.match(/"buildId":"(.*?)",/)[1],f=`${c}/_next/data/${d}/zh/report/${s}.json`,p=await r({method:`get`,url:f}),m=p.data.pageProps,h=[{guid:`${s}:${m.year}${m.month}`,title:`${m.year}年${m.month}月${a[s]}排行榜`,link:l,pubDate:t(`${m.year}-${m.month}`,`YYYY-M`),description:e(i.join(n,`templates/report-4864adbe.art`),{tiobe_list:s===`tiobe`?m.list:void 0,active_list:m.active_list,all_list:m.all_list,db_list:s===`db-engines`?m.list:void 0})}];return{title:`HelloGitHub - ${a[s]}排行榜`,link:l,item:h}}export{o as route};