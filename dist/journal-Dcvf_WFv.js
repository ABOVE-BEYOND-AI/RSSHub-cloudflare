import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import{got_default as r}from"./got-BaOFZRd4.js";import i from"node:path";import{load as a}from"cheerio";import{CookieJar as o}from"tough-cookie";const s=new o,c={path:`/journal/:journal`,categories:[`journal`],example:`/springer/journal/10450`,parameters:{journal:`Journal Code, the number in the URL from the journal homepage`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.springer.com/journal/:journal/*`]}],name:`Journal`,maintainers:[`Derekmini`,`TonyRL`,`xiahaoyun`],handler:l};async function l(o){let c=`https://link.springer.com`,l=o.req.param(`journal`),u=`${c}/journal/${l}/volumes-and-issues`,d=await r(u,{cookieJar:s}),f=a(d.data),p=f(`span.app-journal-masthead__title`).text().trim(),m=`${c}${f(`li.c-list-group__item:first-of-type`).find(`a`).attr(`href`)}`,h=await r(m,{cookieJar:s}),g=a(h.data),_=g(`h2.app-journal-latest-issue__heading`).text(),v=g(`ol.u-list-reset > li`).toArray().map(e=>{let t=f(e).find(`h3.app-card-open__heading`).find(`a`).text().trim(),n=f(e).find(`h3.app-card-open__heading`).find(`a`).attr(`href`),r=n.replace(`https://link.springer.com/article/`,``),i=f(e).find(`img`).attr(`src`),a=f(e).find(`li`).toArray().map(e=>f(e).text().trim()).join(`; `);return{title:t,link:n,doi:r,issue:_,img:i,authors:a}}),y=e=>t(i.join(n,`templates/description-d979b276.art`),{item:e}),b=await Promise.all(v.map(t=>e.tryGet(t.link,async()=>{let e=await r(t.link,{cookieJar:s}),n=a(e.data);return t.abstract=n(`div#Abs1-content > p:first-of-type`).text(),t.description=y(t),t})));return{title:p,link:u,item:b}}export{c as route};