import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import{timezone as a}from"./timezone-BrxBCotj.js";import o from"node:path";import{load as s}from"cheerio";const c=`http://www.mztoday.gov.cn`,l={zx:{name:`最新`,url:`/news.html?page=1`},tj:{name:`推荐`,url:`/list/42.html?page=1`},sz:{name:`时政`,url:`/list/39.html?page=1`},jy:{name:`教育`,url:`/list/40.html?page=1`},ms:{name:`民生`,url:`/list/41.html?page=1`},wl:{name:`文旅`,url:`/list/41.html?page=1`},jj:{name:`经济`,url:`/list/53.html?page=1`},wwcj:{name:`文明创建`,url:`/list/54.html?page=1`},bxsh:{name:`文明创建`,url:`/list/55.html?page=1`},bm:{name:`部门`,url:`/list/56.html?page=1`},zj:{name:`镇（街道）`,url:`/list/57.html?page=1`},jkmz:{name:`健康绵竹`,url:`/list/59.html?page=1`},nxjt:{name:`南轩讲堂`,url:`/list/70.html?page=1`},sp:{name:`视频`,url:`/vlist.html?page=1`},wmsj:{name:`文明实践`,url:`/list/71.html?page=1`},lhzg:{name:`领航中国`,url:`/list/74.html?page=1`},mznh:{name:`绵竹年画`,url:`/list/36.html?page=1`},mzls:{name:`绵竹历史`,url:`/list/16.html?page=1`},mzly:{name:`绵竹旅游`,url:`/list/37.html?page=1`},wwkmz:{name:`外媒看绵竹`,url:`/list/50.html?page=1`}},u=async e=>{let t=await i(e),r=s(t.data),o=r(`div.sl`).toArray().map(e=>({title:r(`a`,e).attr(`title`),url:`${c}${r(`a`,e).attr(`href`)}`,pubDate:n(a(r(`div > div:nth-child(4)`,e).html().trim()),8)}));return o},d=t=>e.tryGet(t.url,async()=>{let e=await i(t.url),n=s(e.data);return{title:t.title,content:n(`td:nth-child(2)`).html(),link:t.url,pubDate:t.pubDate}}),f={path:`/sichuan/deyang/mztoday/:infoType?`,categories:[`government`],example:`/gov/sichuan/deyang/mztoday/zx`,parameters:{infoType:`信息栏目名称。默认最新(zx)`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.mztoday.gov.cn/*`],target:`/sichuan/deyang/mztoday`}],name:`今日绵竹`,maintainers:[`zytomorrow`],handler:p,url:`www.mztoday.gov.cn/*`,description:`| 最新 | 推荐 | 时政 | 教育 | 民生 | 文旅 | 经济 | 文明创建 | 部门 | 镇（街道） | 健康绵竹 | 南轩讲堂 | 视频 | 文明实践 | 领航中国 | 绵竹年画 | 绵竹历史 | 绵竹旅游 | 外媒看绵竹 |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | -------- | ---- | ---------- | -------- | -------- | ---- | -------- | -------- | -------- | -------- | -------- | ---------- |
| zx   | tj   | sz   | jy   | ms   | wl   | jj   | wmcj     | bm   | zj         | jkmz     | nxjt     | sp   | wmsj     | lhzg     | mznh     | mzls     | mzly     | wmkmz      |`};async function p(e){let n=e.req.param(`infoType`)||`zx`,i=`${c}${l[n].url}`,a=await u(i),s=await Promise.all(a.map(e=>d(e)));return{title:`今日绵竹-${l[n].name}`,link:`${i}1`,item:s.map(e=>({title:e.title,description:t(o.join(r,`templates/mztoday-85d6fcf2.art`),{item:e}),link:e.link,pubDate:e.pubDate}))}}export{f as route};