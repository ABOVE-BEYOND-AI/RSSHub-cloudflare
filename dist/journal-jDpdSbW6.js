import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import"./ofetch-DRl42yaJ.js";import{__dirname as t}from"./esm-shims-BDPl6Msv.js";import{got_default as n}from"./got-BaOFZRd4.js";import r from"node:path";import{load as i}from"cheerio";import{CookieJar as a}from"tough-cookie";const o=new a,s={path:`/:journal`,categories:[`journal`],example:`/mdpi/analytica`,parameters:{journal:`Journal Name, get it from the journal homepage`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.mdpi.com/journal/:journal`]}],name:`Journal`,maintainers:[`Derekmini`],handler:c};async function c(a){let s=a.req.param(`journal`),c=`https://www.mdpi.com`,l=`${c}/journal/${s}`,u=await n(l,{cookieJar:o}),d=i(u.data),f=d(`.journal__description`).find(`h1`).text(),p=`${c}${d(`.side-menu-ul`).find(`a`).eq(1).attr(`href`)}`,m=await n(p,{cookieJar:o}),h=i(m.data),g=h(`.content__container`).find(`h1`).text().trim(),_=h(`.article-item`).toArray().map(e=>{let t=h(e).find(`.title-link`).text(),n=`${c}${h(e).find(`.title-link`).attr(`href`)}`,r=h(e).find(`.authors`).find(`.inlineblock`).text(),i=h(e).find(`.color-grey-dark`).find(`a`).attr(`href`),a=``;i!==void 0&&(a=i.replace(`https://doi.org/`,``)),h(e).find(`.abstract-full`).find(`a`).remove();let o=h(e).find(`.abstract-full`).text().trim(),s=`${c}${h(e).find(`.openpopupgallery`).find(`img`).attr(`data-src`)}`;return{title:t,authors:r,link:n,doi:a,abstract:o,issue:g,img:s}}),v=n=>e(r.join(t,`templates/description-d979b276.art`),{item:n}),y=_.map(e=>(e.description=v(e),e));return{title:f,link:l,item:y}}export{s as route};