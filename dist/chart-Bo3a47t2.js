import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{ofetch_default as n}from"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{timezone as i}from"./timezone-BrxBCotj.js";import{ViewType as a}from"./types-D9T3SQ-7.js";import o from"node:path";import{load as s}from"cheerio";const c={媒体文娱:59,广告营销:89,游戏行业:90,视频媒体:91,消费电商:69,电子商务:86,消费者洞察:87,旅游行业:88,汽车行业:80,教育行业:63,企业服务:60,网络服务:84,应用服务:85,AI大数据:65,人工智能:83,物流行业:75,金融行业:70,支付行业:82,房产行业:68,医疗健康:62,先进制造:61,能源环保:77,区块链:76,其他:81},l=async a=>{let{category:l}=a.req.param(),u=Number.parseInt(a.req.query(`limit`)??`100`,10),d=`https://www.iresearch.com.cn`,f=new URL(`api/products/getdatasapi`,d).href,p=c[l]||void 0,m=new URL(`report.shtml?type=4${p?`&classId=${p}`:``}`,d).href,h=await n(f,{query:{rootId:14,channelId:p??``,userId:``,lastId:``,pageSize:u}}),g=await n(m),_=s(g),v=_(`html`).prop(`lang`)??`zh-cn`,y=h.List.slice(0,u).map(n=>({title:`${n.Title} - ${n.sTitle}`,link:new URL(`chart/detail?id=${n.Id}`,d).href,description:e(o.join(r,`templates/chart-faf25fad.art`),{images:[{src:n.SmallImg,alt:n.Title},{src:n.BigImg,alt:n.sTitle}],newsId:n.NewsId}),author:n.Author,category:[...new Set([n.sTitle,n.industry,...n.Keyword])].filter(Boolean),guid:`iresearch.${n.Id}`,pubDate:i(t(n.Uptime),8)})),b=_(`title`).text();return{title:`${b} | 研究图表${p?` - ${l}`:``}`,description:_(`meta[property="og:description"]`).prop(`content`),link:m,item:y,allowEmpty:!0,author:b,language:v,id:m}},u={path:`/chart/:category?`,name:`研究图表`,url:`www.iresearch.com.cn`,maintainers:[`nczitzk`],handler:l,example:`/iresearch/chart`,parameters:{category:`分类，见下表`},description:`
| 媒体文娱 | 广告营销   | 游戏行业 | 视频媒体  | 消费电商 |
| -------- | ---------- | -------- | --------- | -------- |
| 电子商务 | 消费者洞察 | 旅游行业 | 汽车行业  | 教育行业 |
| 企业服务 | 网络服务   | 应用服务 | AI 大数据 | 人工智能 |
| 物流行业 | 金融行业   | 支付行业 | 房产行业  | 医疗健康 |
| 先进制造 | 新能源     | 区块链   | 其他      |          |
`,categories:[`new-media`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{title:`研究图表 - 媒体文娱`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/媒体文娱`:``}},{title:`研究图表 - 广告营销`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/广告营销`:``}},{title:`研究图表 - 游戏行业`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/游戏行业`:``}},{title:`研究图表 - 视频媒体`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/视频媒体`:``}},{title:`研究图表 - 消费电商`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/消费电商`:``}},{title:`研究图表 - 电子商务`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/电子商务`:``}},{title:`研究图表 - 消费者洞察`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/消费者洞察`:``}},{title:`研究图表 - 旅游行业`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/旅游行业`:``}},{title:`研究图表 - 汽车行业`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/汽车行业`:``}},{title:`研究图表 - 教育行业`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/教育行业`:``}},{title:`研究图表 - 企业服务`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/企业服务`:``}},{title:`研究图表 - 网络服务`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/网络服务`:``}},{title:`研究图表 - 应用服务`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/应用服务`:``}},{title:`研究图表 - AI大数据`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/AI大数据`:``}},{title:`研究图表 - 人工智能`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/人工智能`:``}},{title:`研究图表 - 物流行业`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/物流行业`:``}},{title:`研究图表 - 金融行业`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/金融行业`:``}},{title:`研究图表 - 支付行业`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/支付行业`:``}},{title:`研究图表 - 房产行业`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/房产行业`:``}},{title:`研究图表 - 医疗健康`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/医疗健康`:``}},{title:`研究图表 - 先进制造`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/先进制造`:``}},{title:`研究图表 - 新能源`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/新能源`:``}},{title:`研究图表 - 区块链`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/区块链`:``}},{title:`研究图表 - 其他`,source:[`https://www.iresearch.com.cn/report.shtml`],target:(e,t)=>{let n=new URL(t),r=n.searchParams.get(`type`)===`4`;return r?`/iresearch/chart/其他`:``}}],view:a.Articles};export{l as handler,u as route};