import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{ofetch_default as n}from"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{timezone as i}from"./timezone-BrxBCotj.js";import a from"node:path";const o=`https://top.aibase.com`,s=`https://app.chinaz.com`,c=e=>e.startsWith(`[`)?JSON.parse(e):[e];e.defaults.imports.strToArray=c;const l=async e=>{let t=new URL(e(`script[src]`).last()?.prop(`src`)??`_static/ee6af7e.js`,o).href,r=await n(t,{responseType:`text`});return r.match(/"\/(\w+)\/ai\/.*?\.aspx"/)?.[1]??`djflkdsoisknfoklsyhownfrlewfknoiaewf`},u=async e=>{let t=await l(e),n=new URL(`${t}/ai/GetAIProcRecommList.aspx`,s).href,r=new URL(`${t}/ai/GetAIProcListByRecomm.aspx`,s).href,i=new URL(`${t}/ai/GetAiProductOfTag.aspx`,s).href,a=new URL(`${t}/ai/GetAiInfoList.aspx`,s).href,o=new URL(`${t}/ai/v2/GetAILogList.aspx`,s).href;return{apiRecommListUrl:n,apiRecommProcUrl:r,apiTagProcUrl:i,apiInfoListUrl:a,aILogListUrl:o}},d=n=>n.map(n=>{let s=n.name,l=n.imgurl,u=e(a.join(r,`templates/description-39dca137.art`),{images:l?[{src:l,alt:s}]:void 0,item:n}),d=`aibase-${n.zurl}`;return{title:s,description:u,pubDate:i(t(n.addtime),8),link:new URL(`tool/${n.zurl}`,o).href,category:[...new Set([...c(n.categories),...c(n.tags),n.catname,n.procattrname,n.procformname,n.proctypename])].filter(Boolean),guid:d,id:d,content:{html:u,text:n.desc},image:l,banner:l,updated:t(n.UpdTime),enclosure_url:n.logo,enclosure_type:n.logo?`image/${n.logo.split(/\./).pop()}`:void 0,enclosure_title:s}});export{u as buildApiUrl,d as processItems,o as rootUrl};