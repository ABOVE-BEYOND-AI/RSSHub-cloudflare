import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import a from"node:path";const o={path:`/news/:category?`,categories:[`game`],example:`/loltw/news`,parameters:{category:`新闻分类，置空为全部新闻`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`台服新闻`,maintainers:[`hoilc`],handler:s,description:`| 活动  | 资讯 | 系统   | 电竞   | 版本资讯 | 战棋资讯 |
| ----- | ---- | ------ | ------ | -------- | -------- |
| event | info | system | esport | patch    | TFTpatch |`};async function s(o){let s=o.req.param(`category`)??``,c=`https://lol.garena.tw`,l=await i(`${c}/api/news/search?category=${s}`),u=l.data.data.news.map(e=>({guid:e.id,title:e.title,author:`Garena`,link:`${c}/news/articles/${e.id}`,pubDate:n(e.updated_at*1e3)})),d=await Promise.all(u.map(n=>e.tryGet(n.link,async()=>{let e=await i(`${c}/api/news/detail?news_id=${n.guid}`);return n.description=t(a.join(r,`templates/news-b5d6de3e.art`),e.data.data.news_detail),n})));return{title:`英雄联盟 - 台服新闻`,link:s?`${c}/news/${s}`:`${c}/news`,item:d}}export{o as route};