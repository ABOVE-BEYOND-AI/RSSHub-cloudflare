import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{cache_default as e}from"./cache-C3AIQtoX.js";import{art as t}from"./render-DE4LRFBD.js";import"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import{got_default as r}from"./got-BaOFZRd4.js";import i from"node:path";import{load as a}from"cheerio";const o=`https://www.baozimh.com`,s={path:`/comic/:name`,categories:[`anime`],example:`/baozimh/comic/guowangpaiming-shiricaofu`,parameters:{name:"漫画名称，在漫画链接可以得到(`comic/` 后的那段)"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.baozimh.com/comic/:name`]}],name:`订阅漫画`,maintainers:[`Fatpandac`],handler:c};async function c(s){let c=s.req.param(`name`),l=`${o}/comic/${c}`,u=await r(l),d=a(u.data),f=d(`div > div.pure-u-1-1.pure-u-sm-2-3.pure-u-md-3-4 > div > h1`).text(),p=d(`#layout > div.comics-detail > div:nth-child(3) > div > div.pure-g`).first().children().toArray().map(e=>{let t=d(e).find(`span`).text(),n=o+d(e).find(`a`).attr(`href`);return{title:t,link:n}}),m=await Promise.all(p.map(o=>e.tryGet(o.link,async()=>{let e=await r(o.link),s=a(e.data);return o.description=t(i.join(n,`templates/desc-8ab6b3de.art`),{imgUrlList:s(`.comic-contain`).find(`amp-img`).toArray().map(e=>s(e).attr(`src`))}),o})));return{title:`包子漫画-${f}`,description:d(`.comics-detail__desc`).text(),link:l,item:m}}export{s as route};