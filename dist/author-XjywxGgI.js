import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t,parseRelativeDate as n}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as r}from"./esm-shims-BDPl6Msv.js";import{got_default as i}from"./got-BaOFZRd4.js";import{timezone as a}from"./timezone-BrxBCotj.js";import o from"node:path";import{load as s}from"cheerio";const c={path:`/author/:id`,categories:[`reading`],example:`/qidian/author/9639927`,parameters:{id:`作者 id, 可在作者页面 URL 找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`my.qidian.com/author/:id`]}],name:`作者`,maintainers:[`miles170`],handler:l};async function l(c){let l=c.req.param(`id`),u=`https://my.qidian.com/author/${l}/`,d=await i(u),f=s(d.data),p=f(`.header-msg h1`).contents().first().text().trim(),m=f(`.author-work .author-item`).toArray().map(i=>{i=f(i);let s=i.find(`.author-item-msg`),c=s.find(`.author-item-update span`).text().replace(`·`,``).trim();return{title:s.find(`.author-item-title`).text().trim(),author:p,category:s.find(`.author-item-exp a`).first().text().trim(),description:e(o.join(r,`templates/description-9e9a1db4.art`),{description:s.find(`.author-item-update a`).attr(`title`),image:i.find(`a img`).attr(`src`)}),pubDate:a(/(今|昨)/.test(c)?n(c):t(c,`YYYY-MM-DD HH:mm`),8),link:s.find(`.author-item-update a`).attr(`href`)}});return{title:`${p} - 起点中文网`,description:f(`.header-msg-desc`).text().trim(),link:u,item:m}}export{c as route};