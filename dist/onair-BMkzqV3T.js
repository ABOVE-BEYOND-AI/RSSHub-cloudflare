import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import"./ofetch-DRl42yaJ.js";import{__dirname as n}from"./esm-shims-BDPl6Msv.js";import{got_default as r}from"./got-BaOFZRd4.js";import i from"node:path";const a={path:`/onair/:lang?`,categories:[`anime`],example:`/bgmlist/onair/zh-Hans`,parameters:{lang:`语言`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`开播提醒`,maintainers:[`x2cf`],handler:o};async function o(a){let o=a.req.param(`lang`),{data:s}=await r(`https://bgmlist.com/api/v1/bangumi/site`),{data:c}=await r(`https://bgmlist.com/api/v1/bangumi/onair`);return{title:`番组放送 开播提醒`,link:`https://bgmlist.com/`,item:c.items.map(r=>(r.sites.push({site:`dmhy`,id:r.titleTranslate[`zh-Hans`]?.[0]??r.title}),{title:r.titleTranslate[o]?.[0]??r.title,link:r.officialSite,description:e(i.join(n,`templates/description-10ed58c4.art`),r.sites.map(e=>({title:s[e.site].title,url:s[e.site].urlTemplate.replaceAll(`{{id}}`,e.id),begin:e.begin}))),pubDate:t(r.begin),guid:r.id}))}}export{a as route};