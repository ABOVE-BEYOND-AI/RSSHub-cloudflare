import"./config-HRWLmo66.js";import"./logger-DHpG8Bim.js";import"./helpers-LVq640iW.js";import{art as e}from"./render-DE4LRFBD.js";import"./ofetch-DRl42yaJ.js";import{__dirname as t}from"./esm-shims-BDPl6Msv.js";import{got_default as n}from"./got-BaOFZRd4.js";import r from"node:path";import{load as i}from"cheerio";const a=async a=>{let{category:o=`latest/awarded`}=a.req.param(),s=a.req.query(`limit`)?Number.parseInt(a.req.query(`limit`),10):30,c=`https://1x.com`,l=new URL(`gallery/${o}`,c).href,{data:u}=await n(l),d=i(u),f=d(`html`).prop(`lang`),p=new URL(`backend/lm2.php?style=normal&mode=${d(`input#lm_mode`).prop(`value`)}`,c).href,{data:m}=await n(p),h=i(m),g=h(`div.photos-feed-item`).slice(0,s).toArray().map(n=>{n=d(n);let i=n.find(`span.photos-feed-data-title`).first().text()||`Untitled`,a=n.find(`img`).prop(`src`),o=n.find(`span.photos-feed-data-name`).first().text(),s=`${i} by ${o}`,l=e(r.join(t,`templates/description-16be3a2a.art`),{images:a?[{src:a,alt:i}]:void 0,description:s}),u=n.find(`img[id]`).prop(`id`).split(/-/).pop(),p=`1x-${u}`;return{title:i,description:l,link:new URL(`photo/${u}`,c).href,author:o,guid:p,id:p,content:{html:l,text:s},image:a,banner:a,language:f,enclosure_url:a,enclosure_type:a?`image/${a.split(/\./).pop()}`:void 0,enclosure_title:i}}),_=new URL(d(`img.themedlogo`).prop(`src`),c).href;return{title:d(`title`).text(),description:d(`meta[name="description"]`).prop(`content`),link:l,item:g,allowEmpty:!0,image:_,author:d(`meta[property="og:site_name"]`).prop(`content`),language:f}},o={path:`/:category{.+}?`,name:`Gallery`,url:`1x.com`,maintainers:[`nczitzk`],handler:a,example:`/1x/latest/awarded`,parameters:{category:`Category, Latest Awarded by default`},description:"::: tip\nFill in the field in the path with the part of the corresponding page URL after `https://1x.com/gallery/` or `https://1x.com/photo/`. Here are the examples:\n\nIf you subscribe to [Abstract Awarded](https://1x.com/gallery/abstract/awarded), you should fill in the path with the part `abstract/awarded` from the page URL `https://1x.com/gallery/abstract/awarded`. In this case, the route will be [`/1x/abstract/awarded`](https://rsshub.app/1x/abstract/awarded).\n\nIf you subscribe to [Wildlife Published](https://1x.com/gallery/wildlife/published), you should fill in the path with the part `wildlife/published` from the page URL `https://1x.com/gallery/wildlife/published`. In this case, the route will be [`/1x/wildlife/published`](https://rsshub.app/1x/wildlife/published).\n:::",categories:[`design`,`picture`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`/gallery/:category*`,`/photos/:category*`],target:`/1x/:category`}]};export{a as handler,o as route};